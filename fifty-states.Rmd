---
title: 50-State Redistricting Simulations
description: |
  Comprehensive project to simulate alternative redistricting plans for all fifty states.
date: November 11, 2021
output:
  distill::distill_article:
    self_contained: false
repository_url: https://github.com/alarm-redist/fifty-states/
doi: "10.7910/DVN/SLCD3E"
citation: true
---

Click on a state to learn more.

```{r echo=FALSE, message=FALSE, warning=FALSE, layout="l-body-outset", cache=TRUE}
library(tidyverse)
library(ggiraph)
library(sf)
library(here)

states = Sys.glob(here("_fifty-states/*_cd_2020")) %>%
    basename() %>%
    str_sub(1, 2)

d_appor = read_csv(here("_fifty-states/apportionment.csv"), col_types="ci")

usa = read_rds(here("_fifty-states/carto_states.rds")) %>%
    st_set_crs(NA) %>%
    rename(state=STATEAB, state_name=STATENAME) %>%
    left_join(d_appor, by="state_name") %>%
    mutate(available = state %in% states,
           href = if_else(available, str_glue("fifty-states/{state}_cd_2020/"), "#"),
           code = if_else(available, str_glue('window.open("{href}", "_blank")'), ""),
           tooltip = str_glue("<b>{state_name}</b><br />{cds} district{if_else(cds > 1, 's', '')}"))

p = ggplot(usa, aes(fill=available)) +
    geom_sf_interactive(aes(onclick=code, tooltip=tooltip), color=NA, size=0) +
    geom_sf_text(aes(label=if_else(available, state, "")), 
                 size=1.8, color="white", fontface="bold") +
    scale_fill_manual(values=c(`TRUE`="#444444", `FALSE`="#aaaaaa"), 
                      guide="none") +
    theme_void() +
    theme(plot.margin = margin(0, 0, 0, 0, "cm"))
girafe(ggobj=p, width_svg=9, height_svg=6, options=list(
    opts_hover(css="cursor: pointer;
                    opacity: 0.1"),
    opts_tooltip(css="font-family: 'Arial'; 
                 background: #fff8; 
                 border-radius: 3px; 
                 padding: 0.3em;
                 backdrop-filter: blur(6px);",
                 delay_mouseover=100,
                 delay_mouseout=100),
    opts_toolbar(saveaspng=FALSE)
    ))
```


All data is available [on our  Dataverse](https://doi.org/10.7910/DVN/SLCD3E).
Code is available [on GitHub](https://github.com/alarm-redist/fifty-states/).


## Acknowledgments {.appendix}

U.S. map, scaled to reflect Congressional representations, courtesy of <https://dkel.ec/map>.
